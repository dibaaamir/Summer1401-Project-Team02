<div class="wrapper">
    <div (click)="changeCollapseState()">
        <i [class.collapsed]="isCollapse" nz-icon nzType="double-right" nzTheme="outline"></i>
    </div>
    <header>
        <h1>{{ pipelineService.selectedTypeNode | sidebarHeader }}</h1>
    </header>
    <section>
        <app-join
            [(isReset)]="isReset"
            [nodeId]="pipelineService.selectedIdNode"
            (selectNodeChange)="editedNode = $event"
            *ngIf="pipelineService.selectedTypeNode | sideType: 7"
        ></app-join>
        <app-filter
            [(isReset)]="isReset"
            [nodeId]="pipelineService.selectedIdNode"
            (selectNodeChange)="editedNode = $event"
            *ngIf="pipelineService.selectedTypeNode | sideType: 6"
        ></app-filter>
        <app-aggregate
            [(isReset)]="isReset"
            [nodeId]="pipelineService.selectedIdNode"
            (selectNodeChange)="editedNode = $event"
            *ngIf="pipelineService.selectedTypeNode | sideType: 5"
        ></app-aggregate>
        <app-math
            [(isReset)]="isReset"
            [nodeId]="pipelineService.selectedIdNode"
            (selectNodeChange)="editedNode = $event"
            *ngIf="pipelineService.selectedTypeNode | sideType: 4"
        ></app-math>
        <app-split
            [(isReset)]="isReset"
            [nodeId]="pipelineService.selectedIdNode"
            (selectNodeChange)="editedNode = $event"
            *ngIf="pipelineService.selectedTypeNode | sideType: 3"
        ></app-split>
        <app-custom
            [(isReset)]="isReset"
            [nodeId]="pipelineService.selectedIdNode"
            (selectNodeChange)="editedNode = $event"
            *ngIf="pipelineService.selectedTypeNode | sideType: 2"
        ></app-custom>
        <app-select-remove
            [(isReset)]="isReset"
            [nodeId]="pipelineService.selectedIdNode"
            (selectNodeChange)="editedNode = $event"
            *ngIf="pipelineService.selectedTypeNode | sideType: 1"
        ></app-select-remove>
        <app-default *ngIf="pipelineService.selectedTypeNode | sideType: 0"></app-default>
    </section>
    <footer *ngIf="!(pipelineService.selectedTypeNode | sideType: 0)">
        <button nz-button nzType="default" nzSize="large" (click)="onReset()">reset</button>
        <button nz-button nzType="primary" nzSize="large" (click)="onSave()">save</button>
    </footer>
</div>
